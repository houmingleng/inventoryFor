{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"Shipment\",\n\n  data() {\n    // console.log(this.$route.params)\n    return {\n      form: {},\n      storages: {}\n    };\n  },\n\n  created() {\n    let str = sessionStorage.getItem(\"item\");\n    console.log(str);\n\n    if (str) {\n      this.storages = JSON.parse(str);\n      console.log(this.storages);\n    }\n  },\n\n  methods: {\n    handleShip() {\n      console.log(this.form);\n      this.form.name = this.storages.name;\n\n      if (this.storages.number >= this.form.number) {\n        request.post(\"/api/shipment\", this.form).then(res => {\n          this.storages.number -= this.form.number;\n          sessionStorage.clear();\n          sessionStorage.setItem(\"item\", JSON.stringify(this.storages));\n          alert(\"succuess\");\n          this.$router.push(\"/HomeView\");\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoFA,OAAOA,OAAP,MAAoB,iBAApB;AACA,eAAe;EACbC,IAAI,EAAC,UADQ;;EAEbC,IAAI,GAAE;IACJ;IACA,OAAO;MACLC,IAAI,EAAE,EADD;MAELC,QAAQ,EAAC;IAFJ,CAAP;EAID,CARY;;EASbC,OAAO,GAAG;IACR,IAAIC,GAAE,GAAIC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAV;IACAC,OAAO,CAACC,GAAR,CAAYJ,GAAZ;;IACA,IAAGA,GAAH,EAAO;MACL,KAAKF,QAAL,GAAgBO,IAAI,CAACC,KAAL,CAAWN,GAAX,CAAhB;MACAG,OAAO,CAACC,GAAR,CAAY,KAAKN,QAAjB;IACF;EACD,CAhBY;;EAiBbS,OAAO,EAAC;IACNC,UAAU,GAAG;MACXL,OAAO,CAACC,GAAR,CAAY,KAAKP,IAAjB;MACA,KAAKA,IAAL,CAAUF,IAAV,GAAiB,KAAKG,QAAL,CAAcH,IAA/B;;MACA,IAAG,KAAKG,QAAL,CAAcW,MAAd,IAAwB,KAAKZ,IAAL,CAAUY,MAArC,EAA4C;QAExCf,OAAO,CAACgB,IAAR,CAAa,eAAb,EAA8B,KAAKb,IAAnC,EAAyCc,IAAzC,CAA8CC,GAAG,IAAE;UAEjD,KAAKd,QAAL,CAAcW,MAAd,IAAyB,KAAKZ,IAAL,CAAUY,MAAnC;UACAR,cAAc,CAACY,KAAf;UACAZ,cAAc,CAACa,OAAf,CAAuB,MAAvB,EAA8BT,IAAI,CAACU,SAAL,CAAe,KAAKjB,QAApB,CAA9B;UACAkB,KAAK,CAAC,UAAD,CAAL;UACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB;QACD,CAPD;MAQJ;IACF;;EAfM;AAjBK,CAAf","names":["request","name","data","form","storages","created","str","sessionStorage","getItem","console","log","JSON","parse","methods","handleShip","number","post","then","res","clear","setItem","stringify","alert","$router","push"],"sourceRoot":"","sources":["/Users/alanleng/stocks/vue/src/views/Shipment.vue"],"sourcesContent":["<!--<template>-->\n<!--  <div style=\"width: 100% ;height:100%; background_color:lightblue; overflow: hidden\">-->\n<!--    <div style=\"width: 450px ; margin: 150px auto\">-->\n<!--      <el-form :model=\"form\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">-->\n<!--        <el-form-item label=\"ship_address\" prop=\"ship_address\">-->\n<!--          <el-input  v-model=\"form.address\" autocomplete=\"off\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item label=\"this.storages.number\" prop=\"number\">-->\n<!--          <el-input type=\"number\" v-model=\"form.number\" autocomplete=\"off\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item label=\"name\" prop=\"name\">-->\n<!--          <el-input v-model=\"storages.name\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item>-->\n<!--          <el-button type=\"primary\" @click=\"submitForm('form')\">Submit</el-button>-->\n<!--          <el-button @click=\"resetForm('ruleForm')\">Reset</el-button>-->\n<!--        </el-form-item>-->\n<!--      </el-form>-->\n<!--    </div>-->\n\n<!--  </div>-->\n\n<!--</template>-->\n\n<!--<script>-->\n<!--import request from \"@/utils/request\"-->\n\n<!--export default {-->\n<!--  name:\"Shipment\",-->\n<!--  data(){-->\n<!--    return {-->\n<!--      form:{},-->\n<!--      storages:{}-->\n<!--    }-->\n<!--  },-->\n<!--  created() {-->\n<!--    let str = sessionStorage.getItem(\"item\")-->\n<!--    this.storages = JSON.parse(str);-->\n<!--  },-->\n<!--  methods:{-->\n<!--    submitForm(form){-->\n<!--      if(this.storages.number > form.number){-->\n<!--        request.post(\"api/shipment\",this.form).then(res=>{-->\n<!--          console.log(res)-->\n<!--          this.storages.number = this.storages.number - form.number;-->\n\n<!--        })-->\n<!--      }else{-->\n\n<!--      }-->\n<!--    }-->\n<!--  }-->\n<!--}-->\n\n<!--</script>-->\n<!--<style scoped>-->\n\n<!--</style>-->\n<template>\n  <router-link :to=\"{name: 'HomeView'}\" tag=\"button\">Go to home</router-link>\n\n  <div style=\"width: 100% ;height:100%; background_color:lightblue; overflow: hidden\">\n    <div style=\"width: 450px ; margin: 150px auto\">\n      <div style=\"color:white; font-size: 30px; text-align: center\">welcome to shipment</div>\n      <el-form ref=\"form\" :model=\"form\">\n<!--        <el-form-item label= v-model=\"form.address\" v-model=\"form.address \"></el-form-item>-->\n        <el-form-item label=\"storages.name\" v-model=\"form.name \"></el-form-item>\n        <el-form-item label=\"address\">\n          <el-input v-model=\"form.address\" size=\"\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"storages.number\" type=\"number\">\n          <el-input id = \"number\" v-model=\"form.number\" type=\"number\" ></el-input>\n        </el-form-item>\n\n        <el-button text size=\"large\" @click=\"handleShip()\">Ship</el-button>\n\n      </el-form>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\"\nexport default {\n  name:\"Shipment\",\n  data(){\n    // console.log(this.$route.params)\n    return {\n      form: {},\n      storages:{}\n    }\n  },\n  created() {\n    let str = sessionStorage.getItem(\"item\")\n    console.log(str)\n    if(str){\n      this.storages = JSON.parse(str);\n      console.log(this.storages)\n    }\n  },\n  methods:{\n    handleShip() {\n      console.log(this.form)\n      this.form.name = this.storages.name;\n      if(this.storages.number >= this.form.number){\n\n          request.post(\"/api/shipment\", this.form).then(res=>{\n\n            this.storages.number -=  this.form.number;\n            sessionStorage.clear();\n            sessionStorage.setItem(\"item\",JSON.stringify(this.storages));\n            alert(\"succuess\")\n            this.$router.push(\"/HomeView\")\n          })\n      }\n    }\n  }\n}\n\n</script>\n\n"]},"metadata":{},"sourceType":"module"}