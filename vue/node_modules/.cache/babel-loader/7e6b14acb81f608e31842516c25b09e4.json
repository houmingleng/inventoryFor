{"ast":null,"code":"import axios from 'axios';\nconst request = axios.create({\n  // baseURL:'/api',\n  timeout: 5000\n});\nrequest.interceptors.request.use(config => {\n  config.headers['Content-Type'] = 'application/json;charset=utf-8';\n  console.log(config);\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\nrequest.interceptors.response.use(response => {\n  let ress = response.data;\n\n  if (response.config.responseType === 'blob') {\n    return ress;\n  }\n\n  if (typeof ress === 'string') {\n    ress = ress ? JSON.parse(ress) : ress;\n  }\n\n  return ress;\n}, err => {\n  console.log('err' + err);\n  return Promise.reject(err);\n});\nexport default request;","map":{"version":3,"names":["axios","request","create","timeout","interceptors","use","config","headers","console","log","err","Promise","reject","response","ress","data","responseType","JSON","parse"],"sources":["/Users/alanleng/stocks/vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\n\nconst request = axios.create({\n    // baseURL:'/api',\n    timeout:5000\n})\n\n\nrequest.interceptors.request.use(config=>{\n    config.headers['Content-Type'] = 'application/json;charset=utf-8';\n    console.log(config)\n    return config\n} , err => {\n    return Promise.reject(err)\n});\n\nrequest.interceptors.response.use(\n    response=> {\n        let ress = response.data;\n        if (response.config.responseType === 'blob') {\n            return ress;\n        }\n\n\n        if (typeof ress === 'string') {\n            ress = ress ? JSON.parse(ress) : ress\n        }\n        return ress;\n    },\n    err => {\n        console.log('err'+ err)\n        return Promise.reject(err)\n    }\n\n)\nexport default request"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;EACzB;EACAC,OAAO,EAAC;AAFiB,CAAb,CAAhB;AAMAF,OAAO,CAACG,YAAR,CAAqBH,OAArB,CAA6BI,GAA7B,CAAiCC,MAAM,IAAE;EACrCA,MAAM,CAACC,OAAP,CAAe,cAAf,IAAiC,gCAAjC;EACAC,OAAO,CAACC,GAAR,CAAYH,MAAZ;EACA,OAAOA,MAAP;AACH,CAJD,EAIII,GAAG,IAAI;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAND;AAQAT,OAAO,CAACG,YAAR,CAAqBS,QAArB,CAA8BR,GAA9B,CACIQ,QAAQ,IAAG;EACP,IAAIC,IAAI,GAAGD,QAAQ,CAACE,IAApB;;EACA,IAAIF,QAAQ,CAACP,MAAT,CAAgBU,YAAhB,KAAiC,MAArC,EAA6C;IACzC,OAAOF,IAAP;EACH;;EAGD,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;IAC1BA,IAAI,GAAGA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAH,GAAsBA,IAAjC;EACH;;EACD,OAAOA,IAAP;AACH,CAZL,EAaIJ,GAAG,IAAI;EACHF,OAAO,CAACC,GAAR,CAAY,QAAOC,GAAnB;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAhBL;AAmBA,eAAeT,OAAf"},"metadata":{},"sourceType":"module"}