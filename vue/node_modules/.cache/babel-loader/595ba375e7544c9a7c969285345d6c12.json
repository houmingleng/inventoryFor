{"ast":null,"code":"import axios from 'axios';\nconst request = axios.create({\n  baseURL: \"http://localhost:9876/api\" // headers: {\n  //     \"Content-type\": \"application/json\"\n  // }\n\n});\nrequest.interceptors.request.use(config => {\n  console.log(\"我是config\" + config.responseType);\n  return config;\n}, err => {\n  return Promise.reject(err);\n});\nrequest.interceptors.response.use(response => {\n  let ress = response.data;\n\n  if (response.config.responseType === 'blob') {\n    return ress;\n  }\n\n  if (typeof ress === 'string') {\n    ress = ress ? JSON.parse(ress) : ress;\n  }\n\n  return ress;\n}, err => {\n  console.log('err' + err);\n  return Promise.reject(err);\n});\nexport default request;","map":{"version":3,"names":["axios","request","create","baseURL","interceptors","use","config","console","log","responseType","err","Promise","reject","response","ress","data","JSON","parse"],"sources":["/Users/alanleng/stocks/vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\n\nconst request = axios.create({\n    baseURL: \"http://localhost:9876/api\",\n    // headers: {\n    //     \"Content-type\": \"application/json\"\n    // }\n})\n\n\nrequest.interceptors.request.use(config=>{\n    console.log(\"我是config\"+config.responseType)\n    return config\n} , err => {\n    return Promise.reject(err)\n});\n\nrequest.interceptors.response.use(\n    response=> {\n        let ress = response.data;\n        if (response.config.responseType === 'blob') {\n            return ress;\n        }\n\n\n        if (typeof ress === 'string') {\n            ress = ress ? JSON.parse(ress) : ress\n        }\n        return ress;\n    },\n    err => {\n        console.log('err'+ err)\n        return Promise.reject(err)\n    }\n\n)\nexport default request\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAa;EACzBC,OAAO,EAAE,2BADgB,CAEzB;EACA;EACA;;AAJyB,CAAb,CAAhB;AAQAF,OAAO,CAACG,YAAR,CAAqBH,OAArB,CAA6BI,GAA7B,CAAiCC,MAAM,IAAE;EACrCC,OAAO,CAACC,GAAR,CAAY,aAAWF,MAAM,CAACG,YAA9B;EACA,OAAOH,MAAP;AACH,CAHD,EAGII,GAAG,IAAI;EACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CALD;AAOAT,OAAO,CAACG,YAAR,CAAqBS,QAArB,CAA8BR,GAA9B,CACIQ,QAAQ,IAAG;EACP,IAAIC,IAAI,GAAGD,QAAQ,CAACE,IAApB;;EACA,IAAIF,QAAQ,CAACP,MAAT,CAAgBG,YAAhB,KAAiC,MAArC,EAA6C;IACzC,OAAOK,IAAP;EACH;;EAGD,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;IAC1BA,IAAI,GAAGA,IAAI,GAAGE,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAH,GAAsBA,IAAjC;EACH;;EACD,OAAOA,IAAP;AACH,CAZL,EAaIJ,GAAG,IAAI;EACHH,OAAO,CAACC,GAAR,CAAY,QAAOE,GAAnB;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAhBL;AAmBA,eAAeT,OAAf"},"metadata":{},"sourceType":"module"}