{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  props: ['chartData'],\n  name: \"Shipment\",\n\n  data() {\n    // console.log(this.$route.params)\n    return {\n      form: {},\n      storages: {\n        name: \"\",\n        number: 0,\n        id: \"\",\n        address: \"\"\n      }\n    };\n  },\n\n  created() {\n    this.storages.name = this.$route.params.name;\n    this.storages.number = this.$route.params.number;\n    this.storages.id = this.$route.params.id;\n    this.storages.address = this.$route.params.address; // let str = sessionStorage.getItem(\"item\")\n    // if(str){\n    //   this.storages = JSON.parse(str);\n    // }\n  },\n\n  methods: {\n    handleShip() {\n      this.form.name = this.storages.name;\n\n      if (this.storages.number - this.form.number >= 0 && this.form.number >= 0) {\n        request.post(\"/api/shipment\", this.form).then(res => {\n          this.storages.number -= this.form.number;\n          request.put(\"/api/items\", this.storages).then(res => {\n            this.$router.push(\"/\");\n          });\n        });\n      } else {\n        alert(\"amount not allowed\");\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoFA,OAAOA,OAAP,MAAoB,iBAApB;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,WAAD,CADM;EAEbC,IAAI,EAAC,UAFQ;;EAGbC,IAAI,GAAE;IACJ;IACA,OAAO;MACLC,IAAI,EAAE,EADD;MAELC,QAAQ,EAAC;QACPH,IAAI,EAAC,EADE;QAEPI,MAAM,EAAC,CAFA;QAGPC,EAAE,EAAC,EAHI;QAIPC,OAAO,EAAC;MAJD;IAFJ,CAAP;EAUD,CAfY;;EAgBbC,OAAO,GAAG;IACR,KAAKJ,QAAL,CAAcH,IAAd,GAAqB,KAAKQ,MAAL,CAAYC,MAAZ,CAAmBT,IAAxC;IACA,KAAKG,QAAL,CAAcC,MAAd,GAAuB,KAAKI,MAAL,CAAYC,MAAZ,CAAmBL,MAA1C;IACA,KAAKD,QAAL,CAAcE,EAAd,GAAmB,KAAKG,MAAL,CAAYC,MAAZ,CAAmBJ,EAAtC;IACA,KAAKF,QAAL,CAAcG,OAAd,GAAwB,KAAKE,MAAL,CAAYC,MAAZ,CAAmBH,OAA3C,CAJQ,CAKR;IACA;IACA;IAEA;EACD,CA1BY;;EA2BbI,OAAO,EAAC;IACNC,UAAU,GAAG;MAEX,KAAKT,IAAL,CAAUF,IAAV,GAAiB,KAAKG,QAAL,CAAcH,IAA/B;;MACA,IAAG,KAAKG,QAAL,CAAcC,MAAd,GAAuB,KAAKF,IAAL,CAAUE,MAAjC,IAA0C,CAA1C,IAA+C,KAAKF,IAAL,CAAUE,MAAV,IAAkB,CAApE,EAAuE;QAEnEN,OAAO,CAACc,IAAR,CAAa,eAAb,EAA8B,KAAKV,IAAnC,EAAyCW,IAAzC,CAA8CC,GAAG,IAAE;UAEjD,KAAKX,QAAL,CAAcC,MAAd,IAAyB,KAAKF,IAAL,CAAUE,MAAnC;UACAN,OAAO,CAACiB,GAAR,CAAY,YAAZ,EAA0B,KAAKZ,QAA/B,EAAyCU,IAAzC,CAA8CC,GAAG,IAAE;YACjD,KAAKE,OAAL,CAAaC,IAAb,CAAkB,GAAlB;UACL,CAFG;QAID,CAPD;MAQH,CAVD,MAUK;QACHC,KAAK,CAAC,oBAAD,CAAL;MACF;IACF;;EAjBM;AA3BK,CAAf","names":["request","props","name","data","form","storages","number","id","address","created","$route","params","methods","handleShip","post","then","res","put","$router","push","alert"],"sourceRoot":"","sources":["/Users/alanleng/stocks/demok/vue/src/views/Shipment.vue"],"sourcesContent":["<!--<template>-->\n<!--  <div style=\"width: 100% ;height:100%; background_color:lightblue; overflow: hidden\">-->\n<!--    <div style=\"width: 450px ; margin: 150px auto\">-->\n<!--      <el-form :model=\"form\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">-->\n<!--        <el-form-item label=\"ship_address\" prop=\"ship_address\">-->\n<!--          <el-input  v-model=\"form.address\" autocomplete=\"off\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item label=\"this.storages.number\" prop=\"number\">-->\n<!--          <el-input type=\"number\" v-model=\"form.number\" autocomplete=\"off\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item label=\"name\" prop=\"name\">-->\n<!--          <el-input v-model=\"storages.name\"></el-input>-->\n<!--        </el-form-item>-->\n<!--        <el-form-item>-->\n<!--          <el-button type=\"primary\" @click=\"submitForm('form')\">Submit</el-button>-->\n<!--          <el-button @click=\"resetForm('ruleForm')\">Reset</el-button>-->\n<!--        </el-form-item>-->\n<!--      </el-form>-->\n<!--    </div>-->\n\n<!--  </div>-->\n\n<!--</template>-->\n\n<!--<script>-->\n<!--import request from \"@/utils/request\"-->\n\n<!--export default {-->\n<!--  name:\"Shipment\",-->\n<!--  data(){-->\n<!--    return {-->\n<!--      form:{},-->\n<!--      storages:{}-->\n<!--    }-->\n<!--  },-->\n<!--  created() {-->\n<!--    let str = sessionStorage.getItem(\"item\")-->\n<!--    this.storages = JSON.parse(str);-->\n<!--  },-->\n<!--  methods:{-->\n<!--    submitForm(form){-->\n<!--      if(this.storages.number > form.number){-->\n<!--        request.post(\"api/shipment\",this.form).then(res=>{-->\n<!--          console.log(res)-->\n<!--          this.storages.number = this.storages.number - form.number;-->\n\n<!--        })-->\n<!--      }else{-->\n\n<!--      }-->\n<!--    }-->\n<!--  }-->\n<!--}-->\n\n<!--</script>-->\n<!--<style scoped>-->\n\n<!--</style>-->\n<template>\n  <router-link :to=\"{name: 'HomeView'}\" tag=\"button\">Go to home</router-link>\n\n  <div style=\"width: 100% ;height:100%; background_color:lightblue; overflow: hidden\">\n    <div style=\"width: 450px ; margin: 150px auto\">\n      <div style=\"color:white; font-size: 30px; text-align: center\">welcome to shipment</div>\n      <el-form ref=\"form\" :model=\"form\">\n<!--        <el-form-item label= v-model=\"form.address\" v-model=\"form.address \"></el-form-item>-->\n        <el-form-item label= \"name\" v-model=\"form.name \">{{this.storages.name}} </el-form-item>\n        <el-form-item label=\"address\">\n          <el-input v-model=\"form.address\" size=\"\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"number\" type=\"number\">stock still have {{this.storages.number}}\n          <el-input id = \"number\" v-model=\"form.number\" type=\"number\" ></el-input>\n        </el-form-item>\n\n        <el-button text size=\"large\" @click=\"handleShip()\">Ship</el-button>\n\n      </el-form>\n    </div>\n\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\"\nexport default {\n  props: ['chartData'],\n  name:\"Shipment\",\n  data(){\n    // console.log(this.$route.params)\n    return {\n      form: {},\n      storages:{\n        name:\"\",\n        number:0,\n        id:\"\",\n        address:\"\"\n      },\n\n    }\n  },\n  created() {\n    this.storages.name = this.$route.params.name\n    this.storages.number = this.$route.params.number\n    this.storages.id = this.$route.params.id\n    this.storages.address = this.$route.params.address\n    // let str = sessionStorage.getItem(\"item\")\n    // if(str){\n    //   this.storages = JSON.parse(str);\n\n    // }\n  },\n  methods:{\n    handleShip() {\n\n      this.form.name = this.storages.name;\n      if(this.storages.number - this.form.number >=0 && this.form.number>=0 ){\n\n          request.post(\"/api/shipment\", this.form).then(res=>{\n\n            this.storages.number -=  this.form.number;\n            request.put(\"/api/items\", this.storages).then(res=>{\n              this.$router.push(\"/\")\n        })\n            \n          })\n      }else{\n        alert(\"amount not allowed\")\n      }\n    }\n  }\n}\n\n</script>\n\n"]},"metadata":{},"sourceType":"module"}